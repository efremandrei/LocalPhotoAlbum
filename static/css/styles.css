:root{
  --bg:#1a2238;
  --panel:#111827;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --accent:#22d3ee;
  --accent-2:#a78bfa;
  --btn:#1f2937;
  --btn-hover:#374151;
}

*{box-sizing:border-box}
html,body{
  margin:0;padding:0;background:var(--bg);color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial;
  background-image:
    radial-gradient(rgba(255,255,255,0.045) 1px, transparent 1px),
    radial-gradient(rgba(255,255,255,0.03) 1px, transparent 1px);
  background-size:24px 24px, 48px 48px;
  background-position:0 0, 12px 12px;
}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}

.container{max-width:100%;margin:0 auto;padding:24px}
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
.title{
  font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Helvetica Neue',Arial;
  font-size:36px;font-weight:700;letter-spacing:0.4px
}
.card{
  background:linear-gradient(180deg, rgba(17,24,39,0.9), rgba(17,24,39,0.6));
  border:1px solid rgba(255,255,255,0.06);
  border-radius:16px;
  padding:16px;
  box-shadow:0 8px 24px rgba(0,0,0,0.2);
}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}

.btn{background:var(--btn);color:var(--text);padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.08);cursor:pointer;transition:all .15s}
.btn:hover{background:var(--btn-hover)}
.btn-danger{background:#7f1d1d}
.btn-danger:hover{background:#991b1b}

.album-tile{display:flex;flex-direction:column;gap:8px}
.album-name{font-weight:600}
.album-path{color:var(--muted);font-size:12px}
.flex{display:flex;gap:12px;align-items:center}
.right{margin-left:auto}

.photo-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:10px}
.photo-grid img{width:100%;height:160px;object-fit:cover;border-radius:12px;border:1px solid rgba(255,255,255,0.08)}

.group{display:flex;flex-direction:column;gap:6px;margin-bottom:10px}
.group-title{color:var(--accent-2);font-weight:700}

.viewer{position:relative;display:flex;flex-direction:column;gap:10px}
.viewer-header{display:flex;justify-content:space-between;align-items:center}
.viewer-filename{font-size:12px;color:var(--muted)}
.viewer-title{font-size:20px;font-weight:700}
.viewer-title input{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.15);padding:6px 8px;border-radius:8px;width:100%}
.viewer-img-wrap{position:relative;background:rgba(255,255,255,0.02);border-radius:16px;padding:10px;border:1px solid rgba(255,255,255,0.06);display:flex;justify-content:center;align-items:center;min-height:60vh;overflow:hidden}
.viewer-img{max-width:100%;max-height:80vh;object-fit:contain;border-radius:12px;cursor:grab;transition:transform .05s ease-out; position: relative; z-index: 1;}
.viewer-img.dragging{cursor:grabbing;transition:none}

.nav-arrow{position:absolute;top:50%;transform:translateY(-50%);padding:8px 12px;border-radius:10px;background:rgba(0,0,0,0.2);border:1px solid rgba(255,255,255,0.15);opacity:0.6;cursor:pointer;user-select:none; z-index: 999;}
.nav-arrow:hover{opacity:1}
.nav-left{left:16px}
.nav-right{right:16px}

.text-muted{color:var(--muted)}
textarea{width:100%;min-height:100px;background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.15);border-radius:8px;padding:8px}

.section{padding:12px;border:1px solid rgba(255,255,255,0.08);border-radius:12px;background:rgba(255,255,255,0.03)}
.footer-hint{font-size:12px;color:var(--muted);text-align:center;margin-top:16px}
.footer-meta{font-size:12px;color:var(--muted);text-align:center;margin-top:8px}
.label{font-size:12px;color:var(--muted);margin-bottom:4px}

.input{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.15);border-radius:8px;padding:8px;width:100%}

.viewer-toolbar{display:flex;gap:8px;align-items:center;margin-bottom:8px}
.zoom-btn{background:var(--btn);border:1px solid rgba(255,255,255,0.15);border-radius:10px;padding:6px 10px;cursor:pointer}
.zoom-btn:hover{background:var(--btn-hover)}

/* Layout with persistent right sidebar */
.main{display:flex;gap:16px;align-items:flex-start}
.content{flex:1;min-width:0;width:100%}
.sidebar{width:280px}
.sidebar-title{font-weight:700;margin-bottom:6px;color:var(--accent-2)}
.side-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:6px}
.side-list li a{display:block;padding:6px 8px;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.06)}
.side-list li a:hover{background:rgba(255,255,255,0.05)}
.side-list li.active a{outline:1px solid var(--accent-2);}
.sidebar-section .text-muted{font-size:12px}


/* Album cover thumbnail */
.album-thumb{width:100%;height:140px;object-fit:cover;border-radius:10px;border:1px solid rgba(255,255,255,0.08);}
.album-thumb.placeholder{background:rgba(255,255,255,0.04);height:140px;border-radius:10px;border:1px dashed rgba(255,255,255,0.1);}

/* Modal */
.modal.hidden{display:none}
.modal{position:fixed;inset:0;z-index:2000;display:block}
.modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.5)}
.modal-card{position:relative;margin:10vh auto;background:linear-gradient(180deg, rgba(17,24,39,0.96), rgba(17,24,39,0.86));border:1px solid rgba(255,255,255,0.08);border-radius:16px;padding:16px;width:min(560px, 92vw);box-shadow:0 12px 40px rgba(0,0,0,0.4)}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.modal-title{font-weight:700}
.modal-body code{word-break:break-all}


/* Folder picker list tweaks */
#fs-list .btn{ text-align:left; }


/* Loading spinner */
.spinner{width:32px;height:32px;border:4px solid rgba(255,255,255,0.2);border-top-color: var(--accent);border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
